<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ND Academy 2026 ‚Äî Verified Cutoffs</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@500;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      /* LIGHT THEME (Colourful/Candy) */
      --bg-gradient: linear-gradient(135deg, #FFDEE9 0%, #B5FFFC 100%);
      
      --glass: rgba(255, 255, 255, 0.75);
      --glass-border: rgba(255, 255, 255, 0.8);
      --nav-glass: rgba(255, 255, 255, 0.9);
      
      --text-main: #1e293b;
      --text-muted: #64748b;
      
      --primary: #4f46e5;      /* Indigo */
      --primary-glow: rgba(79, 70, 229, 0.4);
      --accent: #0ea5e9;       /* Sky Blue */
      --accent2: #8b5cf6;      /* Violet */
      
      --card-bg: rgba(255, 255, 255, 0.6);
      --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
      
      --input-bg: rgba(255, 255, 255, 0.8);
      --input-border: #e2e8f0;
      
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      
      /* Social Brand Colors */
      --wa: #25D366;
      --tg: #0088cc;
      --ig: #E1306C;
      --fb: #1877F2;
      --yt: #FF0000;
      --ps: #00d3b6;
    }

    [data-theme="dark"] {
      /* DARK THEME (Nebula) */
      --bg-gradient: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                      radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                      radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
      --bg-color: #0f172a;

      --glass: rgba(30, 41, 59, 0.7);
      --glass-border: rgba(255, 255, 255, 0.1);
      --nav-glass: rgba(15, 23, 42, 0.85);

      --text-main: #f8fafc;
      --text-muted: #94a3b8;

      --primary: #818cf8;      /* Soft Indigo */
      --primary-glow: rgba(129, 140, 248, 0.2);
      --accent: #38bdf8;       /* Light Blue */
      --accent2: #c084fc;      /* Light Purple */

      --card-bg: rgba(30, 41, 59, 0.4);
      --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);

      --input-bg: rgba(15, 23, 42, 0.6);
      --input-border: #334155;
    }

    * { box-sizing: border-box; }
    
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg-color, #f0f2f5);
      background-image: var(--bg-gradient);
      background-attachment: fixed;
      background-size: cover;
      color: var(--text-main);
      padding-bottom: 100px;
      min-height: 100vh;
      transition: background 0.3s ease, color 0.3s ease;
    }

    h1, h2, h3, .brand { font-family: 'Outfit', sans-serif; }

    /* GLASS MORPHISM UTILS */
    .glass-panel {
      background: var(--glass);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid var(--glass-border);
      box-shadow: var(--shadow);
      border-radius: 24px;
    }

    /* NAV */
    .navbar {
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 1000;
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 5%;
      background: var(--nav-glass);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      transition: all 0.3s ease;
    }
    
    .brand {
      display: flex; align-items: center; gap: 12px;
      color: var(--text-main);
    }
    
    .brand-logo {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      object-fit: cover;
      border: 2px solid var(--primary);
      box-shadow: 0 0 10px var(--primary-glow);
    }

    .brand-text-col {
      display: flex; 
      flex-direction: column;
      justify-content: center;
    }

    .brand-title {
        font-family: 'Outfit', sans-serif;
        font-weight: 900;
        font-size: 1.4rem;
        letter-spacing: -0.5px;
        line-height: 1;
        background: linear-gradient(90deg, var(--primary), var(--accent2));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .brand-quote {
        font-size: 0.75rem;
        color: var(--text-muted);
        font-weight: 600;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        margin-top: 2px;
    }

    .nav-actions { display: flex; gap: 12px; align-items: center; }

    .icon-btn {
      appearance: none;
      border: 1px solid var(--input-border);
      background: var(--card-bg);
      color: var(--text-main);
      border-radius: 12px;
      padding: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex; align-items: center; justify-content: center;
      width: 44px; height: 44px;
      font-size: 1.2rem;
    }
    .icon-btn:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .tabs {
      display: flex; gap: 8px;
      padding: 4px;
      background: var(--input-bg);
      border-radius: 99px;
      border: 1px solid var(--glass-border);
    }
    
    .tab {
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-weight: 600;
      font-size: 0.9rem;
      padding: 8px 20px;
      border-radius: 99px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Inter', sans-serif;
    }
    
    .tab[aria-selected="true"] {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white; 
      box-shadow: 0 4px 12px var(--primary-glow);
      transform: scale(1.05);
    }
    
    /* MOBILE NAV */
    .menu-btn { display: none; }
    @media (max-width: 1000px) {
      .tabs { display: none; } 
      .menu-btn { display: flex; }
      
      .tabs[data-open="true"] {
        display: flex;
        flex-direction: column;
        position: absolute;
        top: 80px; right: 5%; left: 5%;
        background: var(--nav-glass);
        backdrop-filter: blur(20px);
        padding: 16px;
        border-radius: 20px;
        border: 1px solid var(--glass-border);
        box-shadow: var(--shadow);
      }
      .tab { width: 100%; text-align: center; }
    }

    /* MAIN CONTENT */
    main { max-width: 1000px; margin: 120px auto 40px; padding: 0 20px; }

    .panel {
      padding: 3rem;
      animation: fadeIn 0.6s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ANIMATIONS */
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .page-title {
      text-align: center;
      font-weight: 900;
      font-size: 2.5rem;
      margin: 0 0 8px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .subtitle {
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-weight: 700;
      font-size: 0.8rem;
      color: var(--text-muted);
      margin: 0 0 40px;
    }

    /* FORMS */
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 24px;
    }
    .full { grid-column: 1 / -1; }
    @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } }

    label {
      display: block;
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 8px;
      margin-left: 4px;
    }

    input, select {
      width: 100%;
      padding: 16px;
      border-radius: 16px;
      border: 2px solid var(--input-border);
      background: var(--input-bg);
      color: var(--text-main);
      font-size: 1.1rem;
      font-weight: 600;
      font-family: 'Outfit', sans-serif;
      transition: all 0.3s ease;
      appearance: none;
    }
    
    select {
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 1rem center;
        background-size: 1em;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px var(--primary-glow);
      background-color: var(--glass);
    }

    /* BUTTONS */
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      width: 100%;
      padding: 18px;
      border: none;
      border-radius: 16px;
      font-weight: 800;
      font-size: 1.1rem;
      letter-spacing: 0.5px;
      cursor: pointer;
      color: white;
      background: linear-gradient(135deg, var(--primary) 0%, var(--accent2) 100%);
      box-shadow: 0 10px 25px -5px var(--primary-glow);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      text-decoration: none;
    }
    .btn.secondary {
        background: var(--card-bg);
        color: var(--text-main);
        border: 2px solid var(--input-border);
        box-shadow: none;
    }
    .btn.secondary:hover {
        background: var(--input-bg);
        border-color: var(--text-muted);
        transform: translateY(-2px);
    }
    
    .btn::after {
      content: '';
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(to bottom, rgba(255,255,255,0.2), transparent);
      opacity: 0; transition: opacity 0.3s;
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px -5px var(--primary-glow);
    }
    .btn:hover::after { opacity: 1; }
    .btn:active { transform: scale(0.98); }

    /* RANK BOX & CGPA RESULT BOX */
    .rank-box, .result-overlay {
      display: none;
      margin-top: 32px;
      padding: 32px;
      border-radius: 24px;
      background: linear-gradient(180deg, var(--input-bg) 0%, var(--glass) 100%);
      border: 2px solid var(--primary);
      text-align: center;
      position: relative;
      overflow: hidden;
      animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }
    
    @keyframes popIn {
        0% { opacity: 0; transform: scale(0.8); }
        100% { opacity: 1; transform: scale(1); }
    }
    
    .rank-big, .big-score {
      font-size: 4rem;
      font-family: 'Outfit', sans-serif;
      font-weight: 900;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 10px 0;
      line-height: 1;
    }

    .note {
      margin-top: 24px;
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.6;
      background: var(--card-bg);
      padding: 16px;
      border-radius: 12px;
      border-left: 4px solid var(--accent);
    }
    .note b { color: var(--text-main); }

    /* COLLEGE FINDER RESULTS */
    .finder-bar {
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 32px;
    }
    .finder-bar .row {
      display: grid; grid-template-columns: 1fr 1fr auto; gap: 16px; align-items: end;
    }
    @media (max-width: 768px) { .finder-bar .row { grid-template-columns: 1fr; } }

    /* IMPORTANT: HIDE RESULTS INITIALLY */
    #resultsArea {
        display: none;
    }

    .cols {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .col {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 16px;
    }
    
    .col h3 {
      margin: 0 0 16px;
      font-size: 1.1rem;
      display: flex; align-items: center; gap: 8px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--glass-border);
    }

    .cards { display: flex; flex-direction: column; gap: 12px; }
    
    .card {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 16px;
      position: relative;
      transition: all 0.2s ease;
    }
    .card:hover {
      transform: translateY(-3px) scale(1.01);
      background: var(--input-bg);
      border-color: var(--accent);
      box-shadow: 0 10px 20px rgba(0,0,0,0.05);
      z-index: 2;
    }

    .card .title {
      font-weight: 700;
      padding-right: 90px;
      line-height: 1.3;
      font-size: 0.95rem;
      margin-bottom: 8px;
    }
    
    .meta {
      display: flex; justify-content: space-between;
      font-size: 0.8rem;
      color: var(--text-muted);
      font-family: 'Inter', sans-serif;
    }

    .badge {
      position: absolute; top: 12px; right: 12px;
      font-size: 0.7rem;
      font-weight: 800;
      text-transform: uppercase;
      padding: 4px 8px;
      border-radius: 6px;
    }
    .badge.ok { background: rgba(16, 185, 129, 0.15); color: var(--success); }
    .badge.warn { background: rgba(245, 158, 11, 0.15); color: var(--warning); }
    .badge.danger { background: rgba(239, 68, 68, 0.15); color: var(--danger); }
    .badge.na { background: var(--input-border); color: var(--text-muted); }
    
    /* Result Badge (CGPA) */
    .result-badge {
        background: #48bb78;
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 10px;
    }

    /* ANIMATED COURSE CARD */
    .course-card {
      display: block;
      text-decoration: none;
      color: var(--text-main);
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 24px;
      position: relative;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      animation: fadeInUp 0.6s ease-out both;
      overflow: hidden;
    }
    .course-card:nth-child(1) { animation-delay: 0.1s; }
    .course-card:nth-child(2) { animation-delay: 0.2s; }
    .course-card:nth-child(3) { animation-delay: 0.3s; }

    .course-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.1);
      border-color: var(--primary);
      background: var(--glass);
    }
    
    .course-details {
        margin-top: 12px;
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.5;
        padding-left: 20px; /* Indent bullets */
    }
    .course-details li { margin-bottom: 4px; }

    /* UTILS */
    details {
      margin-top: 24px;
      background: var(--card-bg);
      border-radius: 16px;
      border: 1px solid var(--glass-border);
    }
    details summary {
      cursor: pointer;
      font-weight: 700;
      padding: 16px;
      list-style: none; /* Hide default triangle */
      display: flex; align-items: center; justify-content: space-between;
    }
    details summary::after {
      content: '+'; 
      font-size: 1.5rem; 
      color: var(--accent);
    }
    details[open] summary::after { content: '‚àí'; }
    
    details > div { padding: 0 16px 16px; }

    section[hidden] { display: none !important; }

    /* ACHIEVEMENTS GALLERY */
    .gallery-img {
        width: 100%;
        height: auto;
        border-radius: 16px;
        border: 4px solid var(--glass-border);
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        transition: transform 0.3s ease;
        cursor: pointer;
    }
    .gallery-img:hover {
        transform: scale(1.02);
        border-color: var(--accent);
    }

    /* FULLSCREEN IMAGE MODAL */
    .image-modal {
        display: none;
        position: fixed;
        z-index: 2000;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    .image-modal.show {
        display: flex;
        opacity: 1;
    }
    .modal-content {
        max-width: 90%;
        max-height: 90%;
        border-radius: 8px;
        box-shadow: 0 0 20px rgba(255,255,255,0.2);
    }
    .modal-close {
        position: absolute;
        top: 20px; right: 30px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        z-index: 2001;
    }

    /* COACHING SPECIFIC */
    .highlight-box {
        background: linear-gradient(135deg, rgba(79, 70, 229, 0.1) 0%, rgba(14, 165, 233, 0.1) 100%);
        border: 2px solid var(--primary);
        padding: 32px;
        border-radius: 24px;
        text-align: center;
        margin-bottom: 40px;
        animation: fadeInUp 0.8s ease-out;
        position: relative;
    }
    .highlight-box::before {
        content: "üî• HOT";
        position: absolute; top: -12px; right: 20px;
        background: var(--danger); color: white;
        padding: 4px 12px; border-radius: 12px;
        font-size: 0.8rem; font-weight: 800;
        transform: rotate(5deg);
    }
    .highlight-box h2 {
        margin: 0 0 8px;
        color: var(--primary);
        font-size: 1.8rem;
    }
    .coach-label {
        display: inline-block;
        background: var(--primary);
        color: white;
        padding: 4px 12px;
        border-radius: 99px;
        font-size: 0.75rem;
        font-weight: 700;
        margin-bottom: 12px;
        text-transform: uppercase;
    }
    .app-link-text {
        color: var(--accent);
        font-weight: 700;
        font-size: 0.85rem;
        margin-top: 12px;
        display: block;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .section-head {
        display: flex; align-items: center; gap: 12px; margin: 40px 0 20px;
        font-size: 1.3rem; font-weight: 800;
        color: var(--text-main);
    }

    /* IMPROVED DEMO SECTION */
    .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
    }
    .demo-card {
        background: var(--glass);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-decoration: none;
        color: var(--text-main);
        display: flex;
        flex-direction: column;
    }
    .demo-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        border-color: var(--primary);
    }
    .demo-icon-area {
        height: 100px;
        background: linear-gradient(135deg, rgba(79, 70, 229, 0.1), rgba(14, 165, 233, 0.1));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
    }
    .demo-content {
        padding: 16px;
    }
    .demo-title {
        font-weight: 700;
        margin-bottom: 4px;
        display: block;
    }
    .demo-desc {
        font-size: 0.85rem;
        color: var(--text-muted);
    }

    /* MODERN ABOUT & SOCIAL */
    .about-card {
        background: var(--input-bg);
        border-radius: 24px;
        padding: 32px;
        text-align: center;
        margin-bottom: 32px;
        border: 1px solid var(--glass-border);
        box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    }
    
    .social-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 20px;
        margin-top: 24px;
    }
    
    .social-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        border-radius: 20px;
        background: var(--glass);
        text-decoration: none;
        color: var(--text-main);
        font-weight: 600;
        border: 1px solid var(--glass-border);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        text-align: center;
        gap: 10px;
    }
    
    .social-btn:hover {
        transform: translateY(-5px);
        background: white;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        border-color: currentColor;
    }
    
    .social-icon { font-size: 2rem; margin-bottom: 4px; }
    
    .quote-box {
        font-style: italic;
        font-size: 1.1rem;
        color: var(--primary);
        padding: 24px;
        border-left: 4px solid var(--accent);
        background: rgba(255,255,255,0.5);
        border-radius: 0 16px 16px 0;
        margin: 24px auto;
        max-width: 600px;
    }

    /* CALCULATOR OPTIMIZED */
    .sem-inputs-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
    }

    .calc-input-group {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: var(--glass);
        padding: 16px;
        border-radius: 16px;
        border: 1px solid var(--glass-border);
        transition: transform 0.2s;
    }
    .calc-input-group:focus-within {
        transform: scale(1.02);
        border-color: var(--primary);
    }
    .calc-sem-name { font-weight: 700; color: var(--text-main); font-size: 1rem; }
    /* Hidden credits class for cleaner look */
    .calc-credits { display: none; } 
    
    .calc-actions {
        display: flex; gap: 12px;
    }
    
    /* Confetti Canvas */
    #confetti {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        pointer-events: none;
        z-index: 999;
    }
  </style>
</head>

<body data-theme="light">
  <canvas id="confetti"></canvas>
  <nav class="navbar glass-panel" aria-label="Primary navigation" style="border-radius: 0 0 24px 24px; border-top: none;">
    <div class="brand">
      <img src="https://yt3.googleusercontent.com/Y1bhU9G7TB_P1dddnQtfOcDPG0jfe-g-nkVXuQkiCGwttR94cheiUUz2Dryi_WWCaHCDWatW=s160-c-k-c0x00ffffff-no-rj" alt="ND Academy Logo" class="brand-logo" />
      <div class="brand-text-col">
          <span class="brand-title">ND Academy</span>
          <span class="brand-quote">Empowering Diploma Students</span>
      </div>
    </div>

    <div class="nav-actions">
      <button class="icon-btn menu-btn" id="menuBtn" type="button" aria-expanded="false" aria-controls="tabs">‚ò∞</button>
      <div class="tabs" id="tabs" role="tablist" aria-label="Sections">
        <button class="tab" role="tab" aria-selected="true" aria-controls="predictor" id="tab-predictor" data-target="predictor" type="button">üìä Predictor</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="calculator" id="tab-calculator" data-target="calculator" type="button">üßÆ Calculator</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="college" id="tab-college" data-target="college" type="button">üèõÔ∏è College Finder</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="achievements" id="tab-achievements" data-target="achievements" type="button">üèÜ Achievements</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="coaching" id="tab-coaching" data-target="coaching" type="button">üî¥ Live Coaching</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="about" id="tab-about" data-target="about" type="button">üë§ About</button>
      </div>
      <button class="icon-btn" id="themeBtn" type="button" aria-label="Toggle theme">‚òÄÔ∏è</button>
    </div>
  </nav>

  <main>
    <section id="predictor" role="tabpanel" aria-labelledby="tab-predictor">
      <div class="panel glass-panel">
        <h1 class="page-title">RANK PREDICTOR</h1>
        <p class="subtitle">AI-Powered Estimation ‚Ä¢ 2026</p>

        <div class="grid" aria-label="Rank predictor inputs">
          <div>
            <label for="cgpa">Diploma CGPA</label>
            <input id="cgpa" type="number" inputmode="decimal" min="0" max="10" step="0.01" placeholder="9.75" />
          </div>
          <div>
            <label for="percent">Diploma Percentage (%)</label>
            <input id="percent" type="number" inputmode="decimal" min="0" max="100" step="0.01" placeholder="90.00" />
          </div>
          <div class="full">
            <label for="marks">Expected DCET Marks (0‚Äì100)</label>
            <input id="marks" type="number" inputmode="numeric" min="0" max="100" step="1" placeholder="85" />
          </div>
        </div>

        <button class="btn" id="predictBtn" type="button">CALCULATE RANK üöÄ</button>

        <div id="rankBox" class="rank-box" aria-live="polite">
          <div style="font-size:0.85rem; text-transform:uppercase; letter-spacing:1px; font-weight:700; color:var(--text-muted);">
            Estimated Rank
          </div>
          <div class="rank-big" id="rankVal">‚Äî</div>
          <div style="font-size:1.1rem; margin-bottom:20px; font-weight:600;">
            Merit Score: <span id="meritVal" style="color:var(--accent);">0.00</span>
          </div>

          <button class="btn" id="toCollegeBtn" type="button" style="max-width:300px; margin:0 auto; font-size:1rem; padding:14px; background:var(--card-bg); border:1px solid var(--accent); color:var(--accent);">
            Find Colleges ‚ûú
          </button>
        </div>

        <p class="note">
          <b>Note:</b> Rank prediction is based on historical trends. The College Finder below uses
          <b>verified KEA Session‚Äë2 (2025) ‚ÄúRest of Karnataka‚Äù GM</b> cutoffs.
        </p>
      </div>
    </section>

    <section id="calculator" role="tabpanel" aria-labelledby="tab-calculator" hidden>
        <div class="panel glass-panel">
            <h1 class="page-title">CGPA CALCULATOR</h1>
            <p class="subtitle">Diploma Final CGPA (132-Credit Scheme)</p>

            <div id="sem-inputs-container" class="sem-inputs-container">
                </div>

            <div class="calc-actions">
                <button class="btn secondary" onclick="resetCalculator()" style="flex:1;">Clear üîÑ</button>
                <button class="btn" onclick="calculateCGPA()" style="flex:2;">Calculate Score üöÄ</button>
            </div>

            <div id="cgpaResultBox" class="result-overlay">
                <div id="cgpaBadge" class="result-badge">Distinction</div>
                <div style="font-size:0.9rem; color:var(--text-muted); text-transform:uppercase; font-weight:700;">Your Final CGPA</div>
                <div class="big-score" id="finalCgpaVal">0.00</div>
                <div class="details-row">
                    <span>Percentage: <b style="color:var(--text-main)" id="finalPercentVal">0%</b></span>
                    <span>Total Credits: <b style="color:var(--text-main)" id="finalCreditsVal">0</b></span>
                </div>
            </div>
            
            <p class="note">
                <b>Note:</b> Calculates based on standard 132-credit scheme weightage (18, 22, 26, 26, 24, 16 credits).
            </p>
        </div>
    </section>

    <section id="college" role="tabpanel" aria-labelledby="tab-college" hidden>
      <div class="panel glass-panel">
        <h1 class="page-title">COLLEGE FINDER</h1>
        <p class="subtitle">Official KEA Data ‚Ä¢ Session-2 Cutoffs</p>

        <div class="finder-bar">
          <div class="row">
            <div>
              <label for="cpRank">Enter Your Rank</label>
              <input id="cpRank" type="number" inputmode="numeric" min="1" step="1" placeholder="e.g., 1500" />
            </div>
            <div>
              <label for="branchSelect">Preferred Branch</label>
              <select id="branchSelect">
                  <option value="ALL">All Branches</option>
                  <option value="CSE">CSE - Computer Science</option>
                  <option value="ISE">ISE - Information Science</option>
                  <option value="AIML">AI & ML</option>
                  <option value="AIDS">AI & Data Science</option>
                  <option value="ECE">ECE - Electronics</option>
                  <option value="EEE">EEE - Electrical</option>
                  <option value="ME">Mechanical</option>
                  <option value="CIVIL">Civil</option>
              </select>
            </div>
            <button class="btn" id="searchBtn" type="button" style="margin-top:0;">Search Colleges</button>
          </div>
          <p style="margin:12px 0 0; font-size:0.85rem; color:var(--text-muted);">
            Data Source: KEA NIAS ‚ÄúDCET‚Äë2025 Session‚Äë2 Provisional Allotment‚Äù (GM/ROK).
          </p>
        </div>

        <div id="resultsArea" style="display:none;">
            <div class="cols" aria-label="College results">
              <div class="col" id="colCSE">
                <h3 style="color:var(--accent);">üíª CSE / ISE</h3>
                <div id="outCSE" class="cards"></div>
              </div>
              <div class="col" id="colAI">
                <h3 style="color:var(--accent2);">ü§ñ AI / ML / DS</h3>
                <div id="outAI" class="cards"></div>
              </div>
              <div class="col" id="colECE">
                <h3 style="color:var(--warning);">üì° E & C</h3>
                <div id="outECE" class="cards"></div>
              </div>
            </div>

            <details id="otherBranchesDetails">
              <summary>Explore Other Branches (EEE, Mech, Civil)</summary>
              <div class="cols" style="margin-top:20px;">
                <div class="col" id="colEEE">
                  <h3>‚ö° EEE</h3>
                  <div id="outEEE" class="cards"></div>
                </div>
                <div class="col" id="colME">
                  <h3>‚öôÔ∏è Mechanical</h3>
                  <div id="outME" class="cards"></div>
                </div>
                <div class="col" id="colCIVIL">
                  <h3>üèóÔ∏è Civil</h3>
                  <div id="outCIVIL" class="cards"></div>
                </div>
              </div>
            </details>
        </div>
      </div>
    </section>

    <section id="achievements" role="tabpanel" aria-labelledby="tab-achievements" hidden>
      <div class="panel glass-panel">
        <h1 class="page-title">OUR ACHIEVEMENTS</h1>
        <p class="subtitle">Excellence in Action</p>

        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
          <div>
            <img src="https://iili.io/q2hcUKv.jpg" alt="Achievement Photo 1" class="gallery-img" onclick="openModal(this.src)">
          </div>
          <div>
             <img src="https://iili.io/q2hGnCF.jpg" alt="Achievement Photo 2" class="gallery-img" onclick="openModal(this.src)">
          </div>
        </div>
        
        <p class="note" style="text-align: center;">
            Celebrating the milestones and success stories of our students and academy.
        </p>
      </div>
    </section>

    <div id="imgModal" class="image-modal" onclick="closeModal()">
        <span class="modal-close">&times;</span>
        <img class="modal-content" id="img01">
    </div>

    <section id="coaching" role="tabpanel" aria-labelledby="tab-coaching" hidden>
      <div class="panel glass-panel">
        <h1 class="page-title">LIVE COACHING</h1>
        <p class="subtitle">DCET 2026 Online Classes</p>

        <div class="highlight-box">
            <span class="coach-label">SHORT TERM BATCH</span>
            <h2>STARTED DEC 26TH</h2>
            <p style="font-size:1.1rem; margin:10px 0;"><b>MONDAY - FRIDAY</b></p>
            <p>Evening 2 classes from <b>7.00 PM</b></p>
            <a href="https://play.google.com/store/apps/details?id=co.loki.vnlvn" target="_blank" class="btn" style="margin-top:16px; max-width:300px;">
                Download App To Join üì≤
            </a>
        </div>

        <div class="section-head">üéì Select Your Course</div>
        <div class="resource-grid">
            <a class="course-card" href="https://vnlvn.courses.store/765254" target="_blank">
                <span class="coach-label" style="background:var(--accent);">LIVE</span>
                <b style="display:block; font-size:1.2rem; margin-bottom:8px;">Short Term Live Coaching</b>
                <ul class="course-details">
                    <li>‚úÖ Interactive Live Classes</li>
                    <li>‚úÖ Complete Syllabus Coverage</li>
                    <li>‚úÖ Doubt Clearing Sessions</li>
                </ul>
                <span class="app-link-text">Join Now ‚Üó</span>
            </a>

            <a class="course-card" href="https://vnlvn.courses.store/538560" target="_blank">
                <span class="coach-label" style="background:var(--accent2);">VIDEO</span>
                <b style="display:block; font-size:1.2rem; margin-bottom:8px;">Recorded Video Course</b>
                <ul class="course-details">
                    <li>‚úÖ Learn at Your Pace</li>
                    <li>‚úÖ 24/7 Access to Videos</li>
                    <li>‚úÖ Previous Year Papers</li>
                </ul>
                <span class="app-link-text">Start Learning ‚Üó</span>
            </a>

            <a class="course-card" href="https://vnlvn.courses.store/393139" target="_blank">
                <span class="coach-label" style="background:var(--warning);">TESTS</span>
                <b style="display:block; font-size:1.2rem; margin-bottom:8px;">LMR PPTs & Mock Tests</b>
                <ul class="course-details">
                    <li>‚úÖ Chapter-wise Mock Tests</li>
                    <li>‚úÖ Last Minute Revision PPTs</li>
                    <li>‚úÖ Accurate Cutoff PDFs</li>
                </ul>
                <span class="app-link-text">Practice Now ‚Üó</span>
            </a>
        </div>

        <div class="section-head">üì∫ Watch Demos & Help</div>
        <div class="demo-grid">
            <a class="demo-card" href="https://youtube.com/shorts/I8PwCAJmyWE" target="_blank">
                <div class="demo-icon-area">‚ñ∂Ô∏è</div>
                <div class="demo-content">
                    <span class="demo-title">Free Demo Classes</span>
                    <span class="demo-desc">Watch a sample class to understand our teaching style.</span>
                </div>
            </a>
            <a class="demo-card" href="https://youtube.com/shorts/QVDSvKQ1wJM?feature=share" target="_blank">
                <div class="demo-icon-area">üì±</div>
                <div class="demo-content">
                    <span class="demo-title">How to Attend Live?</span>
                    <span class="demo-desc">A quick tutorial on accessing live classes on the App.</span>
                </div>
            </a>
            <a class="demo-card" href="https://youtu.be/9R9aLnSvyFU" target="_blank">
                <div class="demo-icon-area">‚ÑπÔ∏è</div>
                <div class="demo-content">
                    <span class="demo-title">Course Details</span>
                    <span class="demo-desc">Full breakdown of the DCET 2026 coaching program.</span>
                </div>
            </a>
        </div>

      </div>
    </section>

    <section id="about" role="tabpanel" aria-labelledby="tab-about" hidden>
      <div class="panel glass-panel">
        <h1 class="page-title">ABOUT THE MENTOR</h1>
        <p class="subtitle">Guiding Future Engineers</p>
        
        <div class="about-card">
            <div style="font-size:1.5rem; font-weight:900; color:var(--primary); margin-bottom:4px;">UMESH K S</div>
            <div style="font-size:0.9rem; color:var(--text-muted); font-weight:600; text-transform:uppercase; letter-spacing:1px;">HOD Computer Science</div>
            <div style="font-size:0.9rem; color:var(--text-main);">PES Polytechnic, Hanumanthanagar, Bangalore</div>
            
            <div class="quote-box">
                "Education is not just about passing exams, it's about empowering students to understand their potential in their own language."
            </div>
            
            <p style="max-width:600px; margin:0 auto; line-height:1.6;">
                <b>Namaskara! üôè</b> This channel is dedicated to helping Diploma students in a unique way. 
                We focus on improving learning skills, providing motivation, and simplifying technical concepts in native language.
            </p>
        </div>

        <div class="section-head" style="justify-content:center;">üåê Connect With Us</div>
        
        <div class="social-grid">
            <a href="https://play.google.com/store/apps/details?id=co.loki.vnlvn" target="_blank" class="social-btn" style="color:var(--ps); border-bottom: 3px solid var(--ps);">
                <span class="social-icon">üì≤</span>
                <span>App (PlayStore)</span>
            </a>
            <a href="https://whatsapp.com/channel/0029Va4Sz86KWEKqz9Pixu46" target="_blank" class="social-btn" style="color:var(--wa); border-bottom: 3px solid var(--wa);">
                <span class="social-icon">üí¨</span>
                <span>WhatsApp Channel</span>
            </a>
            <a href="https://t.me/4Q0WnEcTaM00YmM9" target="_blank" class="social-btn" style="color:var(--tg); border-bottom: 3px solid var(--tg);">
                <span class="social-icon">‚úàÔ∏è</span>
                <span>Telegram</span>
            </a>
            <a href="https://instagram.com/nammdiploma?igshid=1suk9dqubauba" target="_blank" class="social-btn" style="color:var(--ig); border-bottom: 3px solid var(--ig);">
                <span class="social-icon">üì∏</span>
                <span>Instagram</span>
            </a>
            <a href="https://chat.whatsapp.com/FVw78o1gxZWImqv9vkL8NN" target="_blank" class="social-btn" style="color:var(--wa); border-bottom: 3px solid var(--wa);">
                <span class="social-icon">üë•</span>
                <span>DCET 2026 Group</span>
            </a>
            <a href="https://facebook.com/nammdiploma" target="_blank" class="social-btn" style="color:var(--fb); border-bottom: 3px solid var(--fb);">
                <span class="social-icon">üìò</span>
                <span>Facebook Page</span>
            </a>
            <a href="https://api.whatsapp.com/send?phone=919538847394" target="_blank" class="social-btn" style="color:var(--wa); border-bottom: 3px solid var(--wa);">
                <span class="social-icon">üìû</span>
                <span>Chat with Mentor</span>
            </a>
            <a href="https://www.youtube.com/@nammdiploma2560" target="_blank" class="social-btn" style="color:var(--yt); border-bottom: 3px solid var(--yt);">
                <span class="social-icon">‚ñ∂Ô∏è</span>
                <span>YouTube</span>
            </a>
        </div>
      </div>
    </section>
  </main>

  <script>
    "use strict";

    // ---------- NAV ----------
    const tabsEl = document.getElementById("tabs");
    const menuBtn = document.getElementById("menuBtn");
    const themeBtn = document.getElementById("themeBtn");
    const tabButtons = Array.from(document.querySelectorAll(".tab"));
    const panels = Array.from(document.querySelectorAll("main > section[role='tabpanel']"));

    function setActivePanel(id){
      for (const p of panels) p.hidden = (p.id !== id);
      for (const b of tabButtons){
        const isActive = b.dataset.target === id;
        b.setAttribute("aria-selected", String(isActive));
        if (isActive) b.focus({preventScroll:true});
      }
      if (window.innerWidth < 1000){
        tabsEl.dataset.open = "false";
        menuBtn.setAttribute("aria-expanded", "false");
      }
      window.scrollTo({top:0, behavior:"smooth"});
    }

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => setActivePanel(btn.dataset.target));
    });

    if (menuBtn){
      menuBtn.addEventListener("click", () => {
        const open = tabsEl.dataset.open === "true";
        tabsEl.dataset.open = String(!open);
        menuBtn.setAttribute("aria-expanded", String(!open));
      });
    }

    // Theme toggle
    themeBtn.addEventListener("click", () => {
      const body = document.body;
      const isLight = body.getAttribute("data-theme") === "light";
      body.setAttribute("data-theme", isLight ? "dark" : "light");
      themeBtn.textContent = isLight ? "‚òÄÔ∏è" : "üåô";
    });

    // ---------- IMAGE MODAL ----------
    const modal = document.getElementById("imgModal");
    const modalImg = document.getElementById("img01");

    function openModal(src) {
        modal.classList.add("show");
        modalImg.src = src;
    }

    function closeModal() {
        modal.classList.remove("show");
    }

    // ---------- RANK PREDICTOR ----------
    const cgpaEl = document.getElementById("cgpa");
    const percentEl = document.getElementById("percent");
    const marksEl = document.getElementById("marks");
    const predictBtn = document.getElementById("predictBtn");

    const rankBox = document.getElementById("rankBox");
    const rankValEl = document.getElementById("rankVal");
    const meritValEl = document.getElementById("meritVal");
    const toCollegeBtn = document.getElementById("toCollegeBtn");

    const ranges = [
      { min: 91.8, max: 100, range: "1 - 10" },
      { min: 90.6, max: 91.79, range: "11 - 20" },
      { min: 89.98, max: 90.59, range: "21 - 30" },
      { min: 89.5, max: 89.97, range: "31 - 40" },
      { min: 89.1, max: 89.49, range: "41 - 50" },
      { min: 89.0, max: 89.09, range: "51 - 60" },
      { min: 88.3, max: 88.99, range: "61 - 70" },
      { min: 88.0, max: 88.29, range: "71 - 80" },
      { min: 87.8, max: 87.99, range: "81 - 90" },
      { min: 87.6, max: 87.79, range: "91 - 100" },
      { min: 86.9, max: 87.59, range: "101 - 125" },
      { min: 86.5, max: 86.89, range: "126 - 150" },
      { min: 86.2, max: 86.49, range: "151 - 175" },
      { min: 85.5, max: 86.19, range: "176 - 200" },
      { min: 84.6, max: 85.49, range: "201 - 250" },
      { min: 84.0, max: 84.59, range: "251 - 300" },
      { min: 83.65, max: 83.99, range: "301 - 350" },
      { min: 82.7, max: 83.64, range: "351 - 400" },
      { min: 82.2, max: 82.69, range: "401 - 450" },
      { min: 81.5, max: 82.19, range: "451 - 500" },
      { min: 80.55, max: 81.49, range: "501 - 625" },
      { min: 79.6, max: 80.54, range: "626 - 750" },
      { min: 78.49, max: 79.59, range: "751 - 875" },
      { min: 77.6, max: 78.5, range: "875 - 1000" },
      { min: 76.6, max: 77.59, range: "1001 - 1125" },
      { min: 75.6, max: 76.59, range: "1125 - 1250" },
      { min: 74.92, max: 75.59, range: "1251 - 1375" },
      { min: 74.25, max: 74.91, range: "1375 - 1500" },
      { min: 73.37, max: 74.24, range: "1501 - 1625" },
      { min: 72.5, max: 73.36, range: "1626 - 1750" },
      { min: 71.99, max: 72.49, range: "1751 - 1875" },
      { min: 71.5, max: 71.98, range: "1876 - 2000" },
      { min: 69.69, max: 71.49, range: "2001 - 2500" },
      { min: 67.9, max: 69.68, range: "2501 - 3000" },
      { min: 66.42, max: 67.89, range: "3001 - 3500" },
      { min: 64.95, max: 66.41, range: "3501 - 4000" },
      { min: 63.62, max: 64.94, range: "4001 - 4500" },
      { min: 62.3, max: 63.61, range: "4501 - 5000" },
      { min: 61.2, max: 62.29, range: "5001 - 5500" },
      { min: 60.2, max: 61.19, range: "5501 - 6000" },
      { min: 59.25, max: 60.19, range: "6001 - 6500" },
      { min: 58.3, max: 59.24, range: "6501 - 7000" },
      { min: 57.64, max: 58.29, range: "7001 - 7500" },
      { min: 56.0, max: 57.63, range: "7501 - 8000" },
      { min: 55.24, max: 56.99, range: "8001 - 9000" },
      { min: 53.5, max: 55.23, range: "9001 - 10000" },
      { min: 51.76, max: 53.49, range: "10000 - 11000" },
      { min: 49.9, max: 51.75, range: "11000 - 12000" },
      { min: 47.89, max: 49.89, range: "12001 - 13000" },
      { min: 45.63, max: 47.88, range: "13001 - 14000" }
    ];

    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

    cgpaEl.addEventListener("input", () => {
      const v = Number(cgpaEl.value);
      if (!Number.isFinite(v)) return;
      percentEl.value = ((v * 10) - 7.5).toFixed(2);
    });
    percentEl.addEventListener("input", () => {
      const v = Number(percentEl.value);
      if (!Number.isFinite(v)) return;
      cgpaEl.value = ((v + 7.5) / 10).toFixed(2);
    });

    function predictRank(){
      const p = Number(percentEl.value);
      const m = Number(marksEl.value);
      if (!Number.isFinite(p) || !Number.isFinite(m) || p < 0 || p > 100 || m < 0 || m > 100){
        alert("Enter valid Percentage (0‚Äì100) and Marks (0‚Äì100).");
        return;
      }
      const merit = (p/2) + (m/2);

      let label = "14000+";
      let safeUpper = 15000;

      for (const r of ranges){
        if (merit >= r.min && merit <= r.max){
          label = r.range;
          const parts = r.range.split("-").map(s => s.trim());
          safeUpper = parts.length > 1 ? Number(parts[1]) : Number(parts[0]);
          break;
        }
      }
      if (merit > 100){
        label = "1 - 10";
        safeUpper = 10;
      }

      rankValEl.textContent = label;
      meritValEl.textContent = merit.toFixed(2);
      rankBox.style.display = "block";

      // auto-fill rank in College Finder input
      document.getElementById("cpRank").value = String(safeUpper);
    }

    predictBtn.addEventListener("click", predictRank);
    toCollegeBtn.addEventListener("click", () => {
      setActivePanel("college");
      runCollegeFinder(); // Will trigger alert if rank empty
    });

    // ---------- VERIFIED CUTOFF DATA ----------
    const COLLEGES = [
      {
        code: "E005",
        short: "RVCE",
        name: "R. V. College of Engineering, Bangalore",
        page: 2,
        cutoffsGM: {
          CSE: 21, ISE: 93, CSE_AIML: 42, ECE: 49, EEE: 221, ME: 355, CIVIL: 243
        }
      },
      {
        code: "E006",
        short: "MSRIT",
        name: "M S Ramaiah Institute of Technology",
        page: 3,
        cutoffsGM: {
          CSE: 136, ISE: 229, AIML: 244, AIDS: 134, CSE_AIML: 245, ECE: 103, EEE: 404, ME: 1393, CIVIL: 788
        }
      },
      {
        code: "E009",
        short: "PESU (RR)",
        name: "PES University (RR Campus)",
        page: 5,
        cutoffsGM: {
          CSE: 164, CSE_AIML: 329, ECE: 289, EEE: 670, ME: 874
        }
      },
      {
        code: "E001",
        short: "UVCE",
        name: "University of Visvesvaraya College of Engineering",
        page: 1,
        cutoffsGM: {
          CSE: 137, ISE: 416, AIML: 215, ECE: 384, EEE: 806, ME: 742, CIVIL: 1330
        }
      },
      {
        code: "E048",
        short: "BMSCE",
        name: "B M S College of Engineering",
        page: 18,
        cutoffsGM: {
          CSE: 372, AIML: 584, AIDS: 612, ECE: 420, ME: 1385, CIVIL: 2097
        }
      },
      {
        code: "E004",
        short: "Dr. AIT",
        name: "Dr. Ambedkar Institute of Technology",
        page: 2,
        cutoffsGM: {
          CSE: 425, ECE: 1115, EEE: 932, ME: 4123, CIVIL: 2719
        }
      },
      {
        code: "E007",
        short: "DSCE",
        name: "Dayananda Sagar College of Engineering",
        page: 4,
        cutoffsGM: {
          CSE: 619, ISE: 978, AIML: 1252, ECE: 1011, EEE: 1428, ME: 2029, CIVIL: 4830
        }
      },
      {
        code: "E008",
        short: "BIT",
        name: "Bangalore Institute of Technology",
        page: 5,
        cutoffsGM: {
          CSE: 964, ISE: 1457, AIML: 1262, ECE: 1515, EEE: 2562
        }
      },
      {
        code: "E126",
        short: "BMSIT",
        name: "B M S Institute of Technology & Management",
        page: 46,
        cutoffsGM: {
          CSE: 1827, AIML: 2716, ECE: 1322, EEE: 1731, ME: 2956, CIVIL: 3983
        }
      },
      {
        code: "E105",
        short: "NMIT",
        name: "Nitte Meenakshi Institute of Technology",
        page: 38,
        cutoffsGM: {
          CSE: 1968, ISE: 3016, AIML: 1999, AIDS: 1835, ECE: 2483, EEE: 4021, ME: 5585, CIVIL: 16176
        }
      },
      {
        code: "E012",
        short: "Sir MVIT",
        name: "Sir M. Visveswaraya Institute of Technology",
        page: 7,
        cutoffsGM: {
          CSE: 3200, ISE: 7261, AIML: 2708, ECE: 2800, EEE: 2968, ME: 4942, CIVIL: 10797
        }
      },
      {
        code: "E118",
        short: "RNSIT",
        name: "RNS Institute of Technology",
        page: 44,
        cutoffsGM: {
          CSE: 2201, CSE_AIML: 3565, ECE: 3797, EEE: 2068
        }
      },
      {
        code: "E082",
        short: "JSSATE",
        name: "J S S Academy of Technical Education",
        page: 28,
        cutoffsGM: {
          CSE: 4119, CSE_AIML: 7257, ISE: 6565, ECE: 5151
        }
      },
      {
        code: "E097",
        short: "CMRIT",
        name: "C M R Institute of Technology",
        page: 34,
        cutoffsGM: {
          CSE: 2337, ISE: 6691, AIML: 3600, AIDS: 5191, CSE_AIML: 3024, ECE: 4648
        }
      },
      {
        code: "E099",
        short: "New Horizon",
        name: "New Horizon College of Engineering",
        page: 35,
        cutoffsGM: {
          CSE: 2636, AIML: 2688, ECE: 2773, EEE: 3367, ME: 7826
        }
      },
      {
        code: "E077",
        short: "Vidya Vikas",
        name: "Vidya Vikas Institute of Engineering & Technology",
        page: 26,
        cutoffsGM: {
          CSE: 10551, ISE: 17860, ECE: 5025, EEE: 8338, CIVIL: 19150
        }
      }
    ];

    // ---------- COLLEGE FINDER LOGIC ----------
    const cpRankEl = document.getElementById("cpRank");
    const searchBtn = document.getElementById("searchBtn");
    const branchSelectEl = document.getElementById("branchSelect");
    const resultsArea = document.getElementById("resultsArea");

    const outCSE = document.getElementById("outCSE");
    const outAI = document.getElementById("outAI");
    const outECE = document.getElementById("outECE");
    const outEEE = document.getElementById("outEEE");
    const outME  = document.getElementById("outME");
    const outCIVIL = document.getElementById("outCIVIL");
    
    // Parent Containers
    const colCSE = document.getElementById("colCSE");
    const colAI = document.getElementById("colAI");
    const colECE = document.getElementById("colECE");
    const colEEE = document.getElementById("colEEE");
    const colME = document.getElementById("colME");
    const colCIVIL = document.getElementById("colCIVIL");
    const otherDetails = document.getElementById("otherBranchesDetails");

    function statusFor(rank, cutoff){
      if (!Number.isFinite(cutoff)) return { label:"No data", cls:"na", chance:null };
      if (rank <= cutoff){
        const ratio = cutoff === 0 ? 0 : (rank / cutoff);
        const chance = clamp(Math.round(70 + (1 - ratio) * 29), 70, 99);
        return { label:"Likely", cls:"ok", chance };
      }
      if (rank <= cutoff * 1.10){
        const chance = clamp(Math.round(45 - ((rank - cutoff) / (cutoff*0.10)) * 20), 25, 45);
        return { label:"Borderline", cls:"warn", chance };
      }
      if (rank <= cutoff * 1.25){
        const chance = clamp(Math.round(18 - ((rank - cutoff*1.10) / (cutoff*0.15)) * 14), 4, 18);
        return { label:"Unlikely", cls:"danger", chance };
      }
      return { label:"Very unlikely", cls:"danger", chance:1 };
    }

    function makeCard(college, branchLabel, cutoff, rank){
      const st = statusFor(rank, cutoff);

      const card = document.createElement("div");
      card.className = "card";

      const badge = document.createElement("div");
      badge.className = "badge " + st.cls;
      badge.textContent = st.chance === null ? "No data" : `${st.chance}% ‚Ä¢ ${st.label}`;
      card.appendChild(badge);

      const title = document.createElement("div");
      title.className = "title";
      title.textContent = `${college.short} ‚Äî ${branchLabel}`;
      card.appendChild(title);

      const meta = document.createElement("div");
      meta.className = "meta";
      const left = document.createElement("span");
      left.textContent = Number.isFinite(cutoff) ? `GM: ${cutoff}` : "GM: ‚Äî";
      const right = document.createElement("span");
      right.textContent = `${college.code}`;
      meta.append(left, right);
      card.appendChild(meta);

      return card;
    }

    function renderBranch(container, branchKey, branchLabel, rank){
      container.textContent = "";
      const fr = document.createDocumentFragment();

      const rows = COLLEGES.map(c => ({
        college: c,
        cutoff: c.cutoffsGM[branchKey]
      })).sort((a,b) => {
        const ax = Number.isFinite(a.cutoff) ? a.cutoff : Infinity;
        const bx = Number.isFinite(b.cutoff) ? b.cutoff : Infinity;
        return ax - bx;
      });

      let shown = 0;
      for (const r of rows){
        const cutoff = r.cutoff;
        if (!Number.isFinite(cutoff)) continue;
        if (rank > cutoff * 1.5) continue;
        fr.appendChild(makeCard(r.college, branchLabel, cutoff, rank));
        shown++;
      }

      if (shown === 0){
        const p = document.createElement("p");
        p.className = "note";
        p.style.fontSize = "0.8rem";
        p.textContent = "No options within reasonable range.";
        fr.appendChild(p);
      }
      container.appendChild(fr);
    }

    function renderBranchGroup(container, keysAndLabels, rank){
      container.textContent = "";
      const fr = document.createDocumentFragment();

      const expanded = [];
      for (const c of COLLEGES){
        for (const [k, label] of keysAndLabels){
          const cutoff = c.cutoffsGM[k];
          if (!Number.isFinite(cutoff)) continue;
          if (rank > cutoff * 1.5) continue;
          expanded.push({ college:c, cutoff, label });
        }
      }

      expanded.sort((a,b) => a.cutoff - b.cutoff);
      let shown = 0;
      for (const r of expanded){
        fr.appendChild(makeCard(r.college, r.label, r.cutoff, rank));
        shown++;
      }
      if (shown === 0){
        const p = document.createElement("p");
        p.className = "note";
        p.style.fontSize = "0.8rem";
        p.textContent = "No options within reasonable range.";
        fr.appendChild(p);
      }
      container.appendChild(fr);
    }

    function runCollegeFinder(){
      const rank = Number(cpRankEl.value);
      if (!Number.isFinite(rank) || rank < 1){
        alert("Enter a valid rank.");
        return;
      }
      
      // SHOW RESULTS AREA ON CLICK
      resultsArea.style.display = "block";
      
      const pref = branchSelectEl.value;

      // 1. Render All Branches data
      renderBranch(outCSE, "CSE", "CSE", rank);
      const iseHeader = document.createElement("p");
      iseHeader.className = "note";
      iseHeader.style.margin = "10px 0 0";
      iseHeader.style.padding = "8px";
      iseHeader.innerHTML = "<b>ISE Options</b>";
      outCSE.appendChild(iseHeader);
      const tmp = document.createElement("div");
      tmp.className = "cards";
      tmp.style.marginTop = "8px";
      outCSE.appendChild(tmp);
      renderBranch(tmp, "ISE", "ISE", rank);

      renderBranchGroup(outAI, [
        ["AIML", "AI & ML"],
        ["AIDS", "AI & DS"],
        ["CSE_AIML", "CSE (AI&ML)"]
      ], rank);

      renderBranch(outECE, "ECE", "ECE", rank);
      renderBranch(outEEE, "EEE", "EEE", rank);
      renderBranch(outME, "ME", "Mech", rank);
      renderBranch(outCIVIL, "CIVIL", "Civil", rank);

      // 2. Logic to Show/Hide Columns
      colCSE.style.display = "none";
      colAI.style.display = "none";
      colECE.style.display = "none";
      colEEE.style.display = "none";
      colME.style.display = "none";
      colCIVIL.style.display = "none";
      otherDetails.style.display = "none"; 

      if(pref === "ALL") {
          colCSE.style.display = "block";
          colAI.style.display = "block";
          colECE.style.display = "block";
          otherDetails.style.display = "block";
          colEEE.style.display = "block";
          colME.style.display = "block";
          colCIVIL.style.display = "block";
      } else if (pref === "CSE" || pref === "ISE") {
          colCSE.style.display = "block";
      } else if (pref === "AIML" || pref === "AIDS") {
          colAI.style.display = "block";
      } else if (pref === "ECE") {
          colECE.style.display = "block";
      } else if (pref === "EEE") {
          otherDetails.style.display = "block";
          otherDetails.open = true; 
          colEEE.style.display = "block";
      } else if (pref === "ME") {
          otherDetails.style.display = "block";
          otherDetails.open = true;
          colME.style.display = "block";
      } else if (pref === "CIVIL") {
          otherDetails.style.display = "block";
          otherDetails.open = true;
          colCIVIL.style.display = "block";
      }
    }

    searchBtn.addEventListener("click", runCollegeFinder);
    cpRankEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") runCollegeFinder();
    });

    // ----------------------------------------------------
    // CGPA CALCULATOR LOGIC
    // ----------------------------------------------------
    const semData = [
        { id: 1, credits: 18, label: 'Semester 1' },
        { id: 2, credits: 22, label: 'Semester 2' },
        { id: 3, credits: 26, label: 'Semester 3' },
        { id: 4, credits: 26, label: 'Semester 4' },
        { id: 5, credits: 24, label: 'Semester 5' },
        { id: 6, credits: 16, label: 'Semester 6' }
    ];

    const semContainer = document.getElementById('sem-inputs-container');
    
    // Generate inputs dynamically - REMOVED CREDIT LABEL
    semData.forEach(sem => {
        semContainer.innerHTML += `
            <div class="calc-input-group">
                <span class="calc-sem-name">${sem.label}</span>
                <input type="number" id="sem-${sem.id}" placeholder="SGPA" step="0.01" min="0" max="10" style="width:90px; padding:8px; text-align:center;">
            </div>
        `;
    });

    function calculateCGPA() {
        let totalPoints = 0;
        let totalCredits = 0;
        let filledCount = 0;

        semData.forEach(sem => {
            let val = document.getElementById(`sem-${sem.id}`).value;
            if (val !== "" && val >= 0 && val <= 10) {
                let sgpa = parseFloat(val);
                totalPoints += (sgpa * sem.credits);
                totalCredits += sem.credits;
                filledCount++;
            }
        });

        if (filledCount === 0) {
            alert("Please enter SGPA for at least one semester!");
            return;
        }

        let cgpa = totalPoints / totalCredits;
        let percentage = (cgpa - 0.75) * 10;

        // UI Updates
        const cgpaBox = document.getElementById('cgpaResultBox');
        const cgpaValEl = document.getElementById('finalCgpaVal');
        const badge = document.getElementById('cgpaBadge');
        
        cgpaBox.style.display = 'block';
        cgpaValEl.innerText = cgpa.toFixed(2);
        document.getElementById('finalPercentVal').innerText = percentage.toFixed(2) + "%";
        document.getElementById('finalCreditsVal').innerText = totalCredits;

        // Determine Badge
        if(percentage >= 70) {
            badge.innerText = "üåü FCD (Distinction)";
            badge.style.background = "#48bb78";
            triggerConfetti();
        } else if (percentage >= 60) {
            badge.innerText = "üëç First Class";
            badge.style.background = "#3182ce";
        } else {
            badge.innerText = "üìö Second Class";
            badge.style.background = "#ecc94b";
        }

        cgpaBox.scrollIntoView({ behavior: 'smooth' });
    }

    function resetCalculator() {
        semData.forEach(sem => {
            document.getElementById(`sem-${sem.id}`).value = "";
        });
        document.getElementById('cgpaResultBox').style.display = 'none';
    }

    // --- Confetti Effect ---
    function triggerConfetti() {
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const pieces = [];
        const colors = ['#ff0080', '#764ba2', '#667eea', '#48bb78', '#ecc94b'];

        for(let i=0; i<100; i++) {
            pieces.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                w: Math.random() * 10 + 5,
                h: Math.random() * 10 + 5,
                color: colors[Math.floor(Math.random() * colors.length)],
                speed: Math.random() * 3 + 2,
                swing: Math.random() * 2
            });
        }

        function animate() {
            ctx.clearRect(0,0, canvas.width, canvas.height);
            pieces.forEach(p => {
                p.y += p.speed;
                p.x += Math.sin(p.y * 0.01) * p.swing;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.w, p.h);
            });
            
            if(pieces.some(p => p.y < canvas.height)) {
                requestAnimationFrame(animate);
            } else {
                ctx.clearRect(0,0, canvas.width, canvas.height);
            }
        }
        animate();
    }
  </script>
</body>
</html>
